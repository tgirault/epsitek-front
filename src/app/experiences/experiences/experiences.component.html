<app-title title="experiences" image="experiences"></app-title>

<div class="container light-container">
  <mat-accordion>
    <mat-expansion-panel *ngFor="let experience of experiences" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          <div class="experience-header">
            <div class="experience-logo">
              <picture>
                <!-- <source srcset="/assets/images/{{ experience.company.logo }}.webp" type="image/webp" /> -->
                <source srcset="/assets/images/{{ experience.company.logo }}.jp2" type="image/jp2" />
                <img src="/assets/images/{{ experience.company.logo }}.png" alt="Logo {{ experience.company.name }}" class="experience-company-logo lazyload" />
              </picture>
            </div>
            <div class="experience-period">
              <p class="period">{{ experience.startDate }} â€“ {{ experience.endDate }}</p>
              <p class="duration">{{ experience.duration }}</p>
            </div>
            <div class="experience-title">
              <span class="title">{{ experience.title }}</span>
            </div>
          </div>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <mat-card class="experience-card">
        <mat-card-header>
          <div mat-card-avatar>
            <a href="{{ experience.company.website }}" target="_blank">
              <picture>
                <!-- <source srcset="/assets/images/{{ experience.company.logo }}.webp" type="image/webp" /> -->
                <source srcset="/assets/images/{{ experience.company.logo }}.jp2" type="image/jp2" />
                <img src="/assets/images/{{ experience.company.logo }}.png" alt="Logo {{ experience.company.name }}" class="company-logo lazyload" />
              </picture>
            </a>
          </div>
          <mat-card-title>{{ experience.title }}</mat-card-title>
          <mat-card-subtitle><mat-icon>place</mat-icon> {{ experience.company.name }}, {{ experience.place }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p>{{ experience.description }}</p>
          <ul class="fa-ul">
            <li *ngFor="let task of experience.tasks"><fa-icon [icon]="['fas', 'arrow-right']"></fa-icon> {{ task }}</li>
          </ul>
        </mat-card-content>
        <mat-card-actions>
          <mat-chip-list aria-label="Technologies">
            <mat-chip *ngFor="let technology of experience.technologies" color="primary" selected>{{ technology }}</mat-chip>
          </mat-chip-list>
          <mat-chip-list aria-label="Outils">
            <mat-chip *ngFor="let tool of experience.tools">{{ tool }}</mat-chip>
          </mat-chip-list>
          <mat-chip-list aria-label="DevOps">
            <mat-chip *ngFor="let devOps of experience.devOps" color="warn" selected>{{ devOps }}</mat-chip>
          </mat-chip-list>
        </mat-card-actions>
      </mat-card>
    </mat-expansion-panel>
  </mat-accordion>
</div>

<div class="container blue-container">
  <h4>Mes clients</h4>
  <div fxLayout="row wrap" fxLayoutAlign="center" fxLayoutGap="20px" fxLayoutGap.xs="10px">
    <div class="logo" *ngFor="let customer of customers" appearence="fill">
      <a *ngIf="customer.website" href="{{ customer.website }}" target="_blank">
        <picture>
          <!-- <source srcset="/assets/images/{{ customer.logo }}.webp" type="image/webp" /> -->
          <source srcset="/assets/images/{{ customer.logo }}.jp2" type="image/jp2" />
          <img src="/assets/images/{{ customer.logo }}.png" alt="Logo {{ customer.name }}" class="customer-logo lazyload" matTooltip="{{ customer.name }}" />
        </picture>
      </a>
      <picture *ngIf="!customer.website">
        <!-- <source srcset="/assets/images/{{ customer.logo }}.webp" type="image/webp" /> -->
        <source srcset="/assets/images/{{ customer.logo }}.jp2" type="image/jp2" />
        <img src="/assets/images/{{ customer.logo }}.png" alt="Logo {{ customer.name }}" class="customer-logo lazyload" matTooltip="{{ customer.name }}" />
      </picture>
    </div>
  </div>
</div>
